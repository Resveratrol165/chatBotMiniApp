{"version":3,"file":"contactView.js","sources":["pages/contactView.vue","../../../Tools/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY29udGFjdFZpZXcudnVl"],"sourcesContent":["<template>\r\n  <div class=\"contact-view\">\r\n    <div class=\"header\">\r\n      <div class=\"title\">联系人</div>\r\n      <div class=\"add-btn\" @click=\"handleAddBot\">\r\n        <text class=\"add-icon\">+</text>\r\n      </div>\r\n    </div>\r\n    <div class=\"contact-list\">\r\n      <contact-component\r\n        v-for=\"bot in botList\"\r\n        :key=\"bot.id\"\r\n        :bot=\"bot\"\r\n        @select=\"handleBotSelect\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport { onShow } from '@dcloudio/uni-app'\r\nimport { getBotList } from '../model/bot_model'\r\nimport ContactComponent from '../components/contactComponent.vue'\r\n\r\nconst botList = ref([])\r\n\r\n// 获取机器人列表的方法\r\nconst fetchBotList = async () => {\r\n  try {\r\n    botList.value = await getBotList()\r\n  } catch (error) {\r\n    console.error('获取机器人列表失败:', error)\r\n    uni.showToast({\r\n      title: '获取列表失败',\r\n      icon: 'none'\r\n    })\r\n  }\r\n}\r\n\r\nconst handleBotSelect = (bot) => {\r\n  console.log('选择了机器人:', bot)\r\n}\r\n\r\nconst handleAddBot = () => {\r\n  uni.navigateTo({\r\n    url: '/pages/addBotView'\r\n  })\r\n}\r\n\r\n// 每次页面显示时刷新列表\r\nonShow(() => {\r\n  fetchBotList()\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.contact-view {\r\n  height: 100%;\r\n  background-color: var(--md-sys-color-surface, #fff);\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.header {\r\n  height: 64px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0 16px;\r\n  background-color: var(--md-sys-color-surface-container, #f8f9fa);\r\n  position: relative;\r\n}\r\n\r\n.header::after {\r\n  content: '';\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 1px;\r\n  background: var(--md-sys-color-outline-variant, rgba(0,0,0,0.08));\r\n}\r\n\r\n.title {\r\n  font-size: 22px;\r\n  font-weight: 500;\r\n  color: var(--md-sys-color-on-surface, #1f1f1f);\r\n  letter-spacing: 0.15px;\r\n}\r\n\r\n.add-btn {\r\n  width: 40px;\r\n  height: 40px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  border-radius: 20px;\r\n  transition: background-color 0.2s ease;\r\n  color: var(--md-sys-color-on-surface-variant, #49454f);\r\n}\r\n\r\n.add-btn:hover {\r\n  background-color: var(--md-sys-color-surface-variant, rgba(0,0,0,0.08));\r\n}\r\n\r\n.add-btn:active {\r\n  background-color: var(--md-sys-color-surface-variant, rgba(0,0,0,0.12));\r\n}\r\n\r\n.add-icon {\r\n  font-size: 28px;\r\n  font-weight: 300;\r\n  line-height: 28px;\r\n}\r\n\r\n.contact-list {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 8px 0;\r\n  background-color: var(--md-sys-color-surface, #fff);\r\n}\r\n\r\n/* 添加滚动条样式 */\r\n.contact-list::-webkit-scrollbar {\r\n  width: 8px;\r\n}\r\n\r\n.contact-list::-webkit-scrollbar-track {\r\n  background: transparent;\r\n}\r\n\r\n.contact-list::-webkit-scrollbar-thumb {\r\n  background-color: var(--md-sys-color-surface-variant, rgba(0,0,0,0.2));\r\n  border-radius: 4px;\r\n}\r\n\r\n.contact-list::-webkit-scrollbar-thumb:hover {\r\n  background-color: var(--md-sys-color-surface-variant, rgba(0,0,0,0.3));\r\n}\r\n</style>\r\n","import MiniProgramPage from 'E:/Workspace/miniapp/chatBotMiniApp/pages/contactView.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","getBotList","uni","onShow"],"mappings":";;;;;;AAuBA,MAAM,mBAAmB,MAAW;;;;AAEpC,UAAM,UAAUA,cAAG,IAAC,EAAE;AAGtB,UAAM,eAAe,YAAY;AAC/B,UAAI;AACF,gBAAQ,QAAQ,MAAMC,2BAAY;AAAA,MACnC,SAAQ,OAAO;AACdC,sBAAAA,MAAc,MAAA,SAAA,+BAAA,cAAc,KAAK;AACjCA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACZ,CAAK;AAAA,MACF;AAAA,IACH;AAEA,UAAM,kBAAkB,CAAC,QAAQ;AAC/BA,oBAAAA,MAAY,MAAA,OAAA,+BAAA,WAAW,GAAG;AAAA,IAC5B;AAEA,UAAM,eAAe,MAAM;AACzBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,MACT,CAAG;AAAA,IACH;AAGAC,kBAAAA,OAAO,MAAM;AACX,mBAAc;AAAA,IAChB,CAAC;;;;;;;;;;;;;;;;;;;ACpDD,GAAG,WAAW,eAAe;"}