{"version":3,"file":"ChatMessage.js","sources":["components/ChatMessage.vue","../HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovY2hhdEJvdE1pbmlBcHAvY29tcG9uZW50cy9DaGF0TWVzc2FnZS52dWU"],"sourcesContent":["<template>\r\n  <div class=\"message-item\" :class=\"{ 'message-right': isUser }\">\r\n    <div class=\"avatar\">\r\n      <image :src=\"avatarSrc\" mode=\"aspectFill\" />\r\n    </div>\r\n    <div class=\"message-content\">\r\n      <div class=\"name\">{{ displayName }}</div>\r\n      <div class=\"bubble\" :class=\"{ 'bubble-right': isUser }\">\r\n        <!-- 文本消息 -->\r\n        <template v-if=\"message.content.type === 'Text'\">\r\n          {{ message.content.message }}\r\n        </template>\r\n        \r\n        <!-- 图片消息 -->\r\n        <template v-else-if=\"message.content.type === 'Image'\">\r\n          <image \r\n            :src=\"message.content.message\" \r\n            mode=\"widthFix\" \r\n            class=\"message-image\"\r\n            @tap=\"previewImage\"\r\n          />\r\n        </template>\r\n        \r\n        <!-- 音频消息 -->\r\n        <template v-else-if=\"message.content.type === 'Audio'\">\r\n          <div class=\"audio-message\">\r\n            <uni-icons type=\"sound\" size=\"20\"></uni-icons>\r\n            <text class=\"audio-duration\">{{message.content.length}}秒</text>\r\n          </div>\r\n        </template>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed } from 'vue'\r\n\r\nconst props = defineProps({\r\n  message: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  userAvatar: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  botAvatar: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  userName: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  botName: {\r\n    type: String,\r\n    required: true\r\n  }\r\n})\r\n\r\nconst isUser = computed(() => props.message.char === 'USER')\r\nconst avatarSrc = computed(() => isUser.value ? props.userAvatar : props.botAvatar)\r\nconst displayName = computed(() => isUser.value ? props.userName : props.botName)\r\n\r\n// 图片预览功能\r\nconst previewImage = () => {\r\n  if (props.message.content.type === 'Image') {\r\n    uni.previewImage({\r\n      urls: [props.message.content.message]\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.message-item {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  margin-bottom: 16px;\r\n  gap: 12px;\r\n}\r\n\r\n.message-right {\r\n  flex-direction: row-reverse;\r\n}\r\n\r\n.avatar {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 20px;\r\n  overflow: hidden;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.avatar image {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.message-content {\r\n  max-width: 70%;\r\n}\r\n\r\n.name {\r\n  font-size: 12px;\r\n  color: #999;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.message-right .name {\r\n  text-align: right;\r\n}\r\n\r\n.message-image {\r\n  max-width: 200px;\r\n  border-radius: 8px;\r\n}\r\n\r\n.audio-message {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  min-width: 120px;\r\n}\r\n\r\n.audio-duration {\r\n  font-size: 14px;\r\n}\r\n\r\n.bubble {\r\n  background-color: #fff;\r\n  padding: 12px 16px;\r\n  border-radius: 16px;\r\n  border-top-left-radius: 4px;\r\n  font-size: 14px;\r\n  line-height: 1.4;\r\n  word-break: break-word;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.bubble-right {\r\n  background-color: #007AFF;\r\n  color: #fff;\r\n  border-top-left-radius: 16px;\r\n  border-top-right-radius: 4px;\r\n}\r\n\r\n.bubble .message-image {\r\n  margin: -12px -16px;\r\n  border-radius: inherit;\r\n}\r\n</style>\r\n","import Component from 'D:/chatBotMiniApp/components/ChatMessage.vue'\nwx.createComponent(Component)"],"names":["computed","uni"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,UAAM,QAAQ;AAuBd,UAAM,SAASA,cAAQ,SAAC,MAAM,MAAM,QAAQ,SAAS,MAAM;AAC3D,UAAM,YAAYA,cAAAA,SAAS,MAAM,OAAO,QAAQ,MAAM,aAAa,MAAM,SAAS;AAClF,UAAM,cAAcA,cAAAA,SAAS,MAAM,OAAO,QAAQ,MAAM,WAAW,MAAM,OAAO;AAGhF,UAAM,eAAe,MAAM;AACzB,UAAI,MAAM,QAAQ,QAAQ,SAAS,SAAS;AAC1CC,sBAAAA,MAAI,aAAa;AAAA,UACf,MAAM,CAAC,MAAM,QAAQ,QAAQ,OAAO;AAAA,QAC1C,CAAK;AAAA,MACF;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvEA,GAAG,gBAAgB,SAAS;"}